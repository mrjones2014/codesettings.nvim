-- stylua: ignore
---@meta

---Codesettings plugin configuration types

---Input type for config options that can be overridden per-load
---@class (partial) CodesettingsConfigOverrides: CodesettingsOverridableConfig

---Options which can be passed on a per-load basis (i.e. can override global config)
---@class CodesettingsOverridableConfig
---List of config file paths to look for
---
---```lua
---default = { ".vscode/settings.json", "codesettings.json", "lspsettings.json" }
---```
---@field config_file_paths string[]?
---List of loader extensions to use when loading settings; `string` values will be `require`d
---
---```lua
---default = {}
---```
---@field loader_extensions (string|CodesettingsLoaderExtension)[]?
---How to merge list fields when combining settings from multiple sources
---
---```lua
---default = "append"
---```
---@field merge_lists CodesettingsMergeListsBehavior?
---Function or string to determine the project root directory; defaults to `require('codesettings.util').get_root()`
---
---```lua
---default = nil
---```
---@field root_dir string|fun():string|nil?

---Main configuration class
---@class CodesettingsConfig: CodesettingsOverridableConfig
---Set filetype to jsonc for config files
---
---```lua
---default = true
---```
---@field jsonc_filetype boolean
---Integrate with jsonls for LSP settings completion
---
---```lua
---default = true
---```
---@field jsonls_integration boolean
---Enable live reloading of settings when config files change; for servers that support it, this is done via the `workspace/didChangeConfiguration` notification, otherwise the server is restarted
---@field live_reload boolean
---Integrate with lua_ls for LSP settings completion; can be a function so that, for example, you can enable it only if editing your nvim config
---
---```lua
---default = true
---```
---@field lua_ls_integration boolean|fun():boolean

---Builder class for constructing Codesettings configuration
---
---Methods are dynamically generated at runtime via metatables based on schema properties.
---Each overridable config property gets a corresponding setter method.
---@class CodesettingsConfigBuilder
---@field private _config CodesettingsOverridableConfig
---List of config file paths to look for
---
---```lua
---default = { ".vscode/settings.json", "codesettings.json", "lspsettings.json" }
---```
---@field config_file_paths fun(self: CodesettingsConfigBuilder, value: string[]): CodesettingsConfigBuilder
---List of loader extensions to use when loading settings; `string` values will be `require`d
---
---```lua
---default = {}
---```
---@field loader_extensions fun(self: CodesettingsConfigBuilder, value: (string|CodesettingsLoaderExtension)[]): CodesettingsConfigBuilder
---How to merge list fields when combining settings from multiple sources
---
---```lua
---default = "append"
---```
---@field merge_lists fun(self: CodesettingsConfigBuilder, value: CodesettingsMergeListsBehavior): CodesettingsConfigBuilder
---Function or string to determine the project root directory; defaults to `require('codesettings.util').get_root()`
---
---```lua
---default = nil
---```
---@field root_dir fun(self: CodesettingsConfigBuilder, value: string|fun():string|nil): CodesettingsConfigBuilder
---Return the resulting configuration table
---@field build fun(self: CodesettingsConfigBuilder): CodesettingsConfigOverrides
---Load the local settings using the configuration built by this builder
---@field local_settings fun(self: CodesettingsConfigBuilder): CodesettingsSettings
---Load and merge local settings into the given LSP config
---@field with_local_settings fun(self: CodesettingsConfigBuilder, lsp_name: string, config: table): table
